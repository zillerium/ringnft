<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Liquid Nfts</title>

  
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>


    <script src="./node_modules/web3/dist/web3.min.js"></script>

</head>
<body>

<div class="container">
  <div class="row">
    <div class="col">
      <h1>Liquid Nfts</h1>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h1>Add Investor Nft</h1>
    </div>
  </div>

  <div class="row">
    <div class="col">
       <label for="assetNft" class="col-lg-2 control-label">Asset Nft</label>
        <input id="assetNft" type="text">
    </div>
  </div>

  <div class="row">
    <div class="col">
        <label for="investorAddr" class="col-lg-2 control-label">Investor Address</label>
        <input id="investorAddr" type="text">
    </div>
  </div>

  <div class="row">
    <div class="col">
        <label for="investorNft" class="col-lg-2 control-label">Investor Nft</label>
        <input id="investorNft" type="text">
    </div>
  </div>

    <div class="row">
    <div class="col">
         <label for="NftValue" class="col-lg-2 control-label">Nft Value</label>
        <input id="NftValue" type="text">
    </div>
  </div>

    <div class="row">
    <div class="col">
                <button id="btnAddInvestorNft">Add Investor Nft</button>
    </div>
  </div>

</div>


 
 
       




       

 
 

    
    <script>

  var account =  getCurrentAccount();

        var abi = [
	{
		"constant": false,
		"inputs": [
			{
				"name": "assetNft",
				"type": "uint256"
			},
			{
				"name": "investorAddress",
				"type": "address"
			},
			{
				"name": "investorNft",
				"type": "uint256"
			},
			{
				"name": "nftValue",
				"type": "uint256"
			}
		],
		"name": "addiNft",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "assetNft",
				"type": "uint256"
			},
			{
				"name": "creditorAddress",
				"type": "address"
			},
			{
				"name": "investorNft",
				"type": "uint256"
			},
			{
				"name": "nftValue",
				"type": "uint256"
			}
		],
		"name": "addlNft",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"payable": true,
		"stateMutability": "payable",
		"type": "fallback"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "address"
			},
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "cNfts",
		"outputs": [
			{
				"name": "nftAmount",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "address"
			},
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "iNfts",
		"outputs": [
			{
				"name": "nftAmount",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "address"
			},
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "lNfts",
		"outputs": [
			{
				"name": "nftAmount",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "Nfts",
		"outputs": [
			{
				"name": "nftAmount",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]
    if (typeof web3 !== 'undefined') {
       web3 = new Web3(web3.currentProvider);
   } else {
       // set the provider you want from Web3.providers
       web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
   }
       // Our future code here..
      //  web3.eth.defaultAccount = web3.eth.accounts[0];
        var addr = '0x774e44c7bc4c24183f379712B9a55d2bD3280fee';
        web3.eth.defaultAccount = '0x96865cbD58A15f649f8bBA6947A818d32c0FcBA0';
        var aBCContract = new web3.eth.Contract(abi, addr);
 

$("#btnAddInvestorNft").click(function() {
    var assetNft = $("#assetNft").val();
    var investorAddr = $("#investorAddr").val();
    var investorNft = $("#investorNft").val();
    var NftValue = $("#NftValue").val();


  
       

    aBCContract.methods.addiNft(assetNft,investorAddr,investorNft , NftValue)
    .send({from: '0x96865cbD58A15f649f8bBA6947A818d32c0FcBA0'},function(err, res) {
        if (err) {
            console.log('an error happened', err)
            return
        }
    console.log('txn hash ' + res);
    
    })
   
  
});

   function getCurrentAccount() {
   
 }
        console.log(aBCContract);

    </script>
   <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

</body>
</html>